{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///G:/PH/Nextjs/winter-dog-care-N/components/ProtectedRoute.js"],"sourcesContent":["'use client';\r\n\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect } from 'react';\r\n\r\nexport default function ProtectedRoute({ children }) {\r\n  const { user, loading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading && !user) {\r\n      router.push('/login');\r\n    }\r\n  }, [user, loading, router]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center pt-16\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4\"></div>\r\n          <p className=\"text-xl text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,eAAe,EAAE,QAAQ,EAAE;IACjD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,iIAAO;IACjC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,CAAC,MAAM;YACrB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAI7C;IAEA,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///G:/PH/Nextjs/winter-dog-care-N/app/manage-products/page.js"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport ProtectedRoute from '@/components/ProtectedRoute';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nfunction ManageProductsContent() {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [deleting, setDeleting] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchProducts();\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchProducts = async () => {\r\n    if (!user) return;\r\n\r\n    try {\r\n      const response = await fetch(`/api/products?userId=${user.uid}`);\r\n      const data = await response.json();\r\n\r\n      if (data.products) {\r\n        const productsData = data.products.map(product => ({\r\n          ...product,\r\n          id: product._id.toString(),\r\n        }));\r\n        setProducts(productsData);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (productId) => {\r\n    if (!confirm('Are you sure you want to delete this product?')) {\r\n      return;\r\n    }\r\n\r\n    setDeleting(productId);\r\n    try {\r\n      const response = await fetch(`/api/products/${productId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to delete');\r\n      }\r\n\r\n      setProducts(products.filter(p => p.id !== productId));\r\n      alert('Product deleted successfully! ‚úÖ');\r\n    } catch (error) {\r\n      console.error('Error deleting product:', error);\r\n      alert('Failed to delete product: ' + error.message);\r\n    } finally {\r\n      setDeleting(null);\r\n    }\r\n  }; // ‚Üê PROPERLY CLOSED FUNCTION\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center pt-16\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4\"></div>\r\n          <p className=\"text-xl text-gray-600\">Loading products...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 pt-16\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center mb-8\">\r\n          <div>\r\n            <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">Manage Products</h1>\r\n            <p className=\"text-gray-600\">View and manage all your winter dog care products</p>\r\n          </div>\r\n          <Link \r\n            href=\"/add-product\" \r\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition\"\r\n          >\r\n            ‚ûï Add New Product\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid md:grid-cols-3 gap-6 mb-8\">\r\n          <div className=\"bg-white rounded-xl shadow-md p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-gray-600 text-sm mb-1\">Total Products</p>\r\n                <p className=\"text-3xl font-bold text-gray-900\">{products.length}</p>\r\n              </div>\r\n              <div className=\"text-5xl\">üì¶</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-md p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-gray-600 text-sm mb-1\">Your Products</p>\r\n                <p className=\"text-3xl font-bold text-gray-900\">\r\n                  {products.filter(p => p.createdBy === user?.uid).length}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-5xl\">‚ú®</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white rounded-xl shadow-md p-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-gray-600 text-sm mb-1\">Categories</p>\r\n                <p className=\"text-3xl font-bold text-gray-900\">\r\n                  {new Set(products.map(p => p.category)).size}\r\n                </p>\r\n              </div>\r\n              <div className=\"text-5xl\">üè∑Ô∏è</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Products Table/Grid */}\r\n        {products.length === 0 ? (\r\n          <div className=\"bg-white rounded-xl shadow-md p-12 text-center\">\r\n            <div className=\"text-6xl mb-4\">üì¶</div>\r\n            <h3 className=\"text-2xl font-bold text-gray-900 mb-2\">No products yet</h3>\r\n            <p className=\"text-gray-600 mb-6\">Start by adding your first winter dog care product</p>\r\n            <Link\r\n              href=\"/add-product\"\r\n              className=\"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition\"\r\n            >\r\n              Add Your First Product\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-xl shadow-md overflow-hidden\">\r\n            {/* Desktop Table View */}\r\n            <div className=\"hidden md:block overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-gray-50 border-b\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Product\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Category\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Price\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Created By\r\n                    </th>\r\n                    <th className=\"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-gray-200\">\r\n                  {products.map(product => (\r\n                    <tr key={product.id} className=\"hover:bg-gray-50 transition\">\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex items-center\">\r\n                          <div className=\"text-3xl mr-4\">{product.emoji || 'üêï'}</div>\r\n                          <div>\r\n                            <div className=\"font-semibold text-gray-900\">{product.title}</div>\r\n                            <div className=\"text-sm text-gray-500 line-clamp-1\">{product.shortDescription}</div>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <span className=\"inline-block bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-sm font-semibold\">\r\n                          {product.category}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4\">\r\n                        <span className=\"font-bold text-gray-900\">${product.price}</span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-sm text-gray-600\">\r\n                        {product.createdByName || 'Unknown'}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-right\">\r\n                        <div className=\"flex justify-end gap-2\">\r\n                          <button\r\n                            onClick={() => router.push(`/products/${product.id}`)}\r\n                            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-semibold\"\r\n                          >\r\n                            View\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDelete(product.id)}\r\n                            disabled={deleting === product.id}\r\n                            className=\"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition text-sm font-semibold disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n                          >\r\n                            {deleting === product.id ? '...' : 'Delete'}\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Mobile Card View */}\r\n            <div className=\"md:hidden divide-y divide-gray-200\">\r\n              {products.map(product => (\r\n                <div key={product.id} className=\"p-6\">\r\n                  <div className=\"flex items-start gap-4 mb-4\">\r\n                    <div className=\"text-5xl\">{product.emoji || 'üêï'}</div>\r\n                    <div className=\"flex-1\">\r\n                      <h3 className=\"font-bold text-gray-900 mb-1\">{product.title}</h3>\r\n                      <p className=\"text-sm text-gray-600 mb-2\">{product.shortDescription}</p>\r\n                      <div className=\"flex items-center gap-2 flex-wrap\">\r\n                        <span className=\"bg-blue-100 text-blue-600 px-2 py-1 rounded text-xs font-semibold\">\r\n                          {product.category}\r\n                        </span>\r\n                        <span className=\"font-bold text-gray-900\">${product.price}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => router.push(`/products/${product.id}`)}\r\n                      className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-semibold\"\r\n                    >\r\n                      View\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDelete(product.id)}\r\n                      disabled={deleting === product.id}\r\n                      className=\"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition text-sm font-semibold disabled:bg-gray-400\"\r\n                    >\r\n                      {deleting === product.id ? '...' : 'Delete'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n} // ‚Üê REMOVED SEMICOLON (not needed for function declaration)\r\n\r\nexport default function ManageProductsPage() {\r\n  return (\r\n    <ProtectedRoute>\r\n      <ManageProductsContent />\r\n    </ProtectedRoute>\r\n  );\r\n} // ‚Üê REMOVED SEMICOLON"],"names":[],"mappings":"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"}}]
}