{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///G:/PH/Nextjs/winter-dog-care-N/lib/mongodb.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\r\n\r\nconst uri = process.env.MONGODB_URI;\r\nconst options = {};\r\n\r\nlet client;\r\nlet clientPromise;\r\n\r\nif (!process.env.MONGODB_URI) {\r\n  throw new Error('Please add your Mongo URI to .env.local');\r\n}\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  if (!global._mongoClientPromise) {\r\n    client = new MongoClient(uri, options);\r\n    global._mongoClientPromise = client.connect();\r\n  }\r\n  clientPromise = global._mongoClientPromise;\r\n} else {\r\n  client = new MongoClient(uri, options);\r\n  clientPromise = client.connect();\r\n}\r\n\r\nexport default clientPromise;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,WAAW;AACnC,MAAM,UAAU,CAAC;AAEjB,IAAI;AACJ,IAAI;AAEJ,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE;IAC5B,MAAM,IAAI,MAAM;AAClB;AAEA,wCAA4C;IAC1C,IAAI,CAAC,yDAAO,mBAAmB,EAAE;QAC/B,SAAS,IAAI,sHAAW,CAAC,KAAK;QAC9B,yDAAO,mBAAmB,GAAG,OAAO,OAAO;IAC7C;IACA,gBAAgB,yDAAO,mBAAmB;AAC5C;;uCAKe"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///G:/PH/Nextjs/winter-dog-care-N/app/api/products/%5Bid%5D/route.js"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport clientPromise from '@/lib/mongodb';\r\nimport { ObjectId } from 'mongodb';\r\n\r\n// GET - Fetch single product\r\nexport async function GET(request, { params }) {\r\n  try {\r\n    const { id } =await params;\r\n    console.log(\"API Fetching ID:\", id);\r\n\r\n    // Validate ObjectId\r\n        if (!id || !ObjectId.isValid(id)) {\r\n      return NextResponse.json({ \r\n        success: false,\r\n        error: 'Invalid product ID' \r\n      }, { status: 400 });\r\n    }\r\n\r\n    const client = await clientPromise;\r\n    const db = client.db('winter-dog-care-01'); // Replace with your DB name\r\n    \r\n    const product = await db\r\n      .collection('products')\r\n      .findOne({ _id: new ObjectId(id) });\r\n\r\n    if (!product) {\r\n      return NextResponse.json({ \r\n        success: false,\r\n        error: 'Product not found' \r\n      }, { status: 404 });\r\n    }\r\n\r\n    return NextResponse.json({ \r\n      success: true,\r\n      product \r\n    }, { status: 200 });\r\n\r\n  } catch (error) {\r\n    console.error('Error fetching product:', error);\r\n    return NextResponse.json({ \r\n      success: false,\r\n      error: 'Failed to fetch product' \r\n    }, { status: 500 });\r\n  }\r\n} // ← GET FUNCTION CLOSED HERE\r\n\r\n// DELETE - Delete a product\r\nexport async function DELETE(request, { params }) {\r\n  try {\r\n    const { id } = await params;\r\n\r\n    // Validate ObjectId\r\n    if (!ObjectId.isValid(id)) {\r\n      return NextResponse.json({ \r\n        success: false,\r\n        error: 'Invalid product ID' \r\n      }, { status: 400 });\r\n    }\r\n\r\n    const client = await clientPromise;\r\n    const db = client.db('winter-dog-care-01'); // Replace with your DB name\r\n    \r\n    const result = await db\r\n      .collection('products')\r\n      .deleteOne({ _id: new ObjectId(id) });\r\n\r\n    if (result.deletedCount === 0) {\r\n      return NextResponse.json({ \r\n        success: false,\r\n        error: 'Product not found' \r\n      }, { status: 404 });\r\n    }\r\n\r\n    return NextResponse.json({ \r\n      success: true,\r\n      message: 'Product deleted successfully' \r\n    }, { status: 200 });\r\n\r\n  } catch (error) {\r\n    console.error('Error deleting product:', error);\r\n    return NextResponse.json({ \r\n      success: false,\r\n      error: 'Failed to delete product' \r\n    }, { status: 500 });\r\n  }\r\n} // ← DELETE FUNCTION CLOSED HERE\r\n\r\n// PUT - Update a product\r\nexport async function PUT(request, { params }) {\r\n  try {\r\n    const { id } =await params;\r\n    const body = await request.json();\r\n\r\n    // Validate ObjectId\r\n    if (!ObjectId.isValid(id)) {\r\n      return NextResponse.json({ \r\n        success: false,\r\n        error: 'Invalid product ID' \r\n      }, { status: 400 });\r\n    }\r\n\r\n    const client = await clientPromise;\r\n    const db = client.db('winter-dog-care-01'); // Replace with your DB name\r\n    \r\n    // Remove _id from body if present\r\n    const { _id, ...updateData } = body;\r\n    \r\n    const result = await db\r\n      .collection('products')\r\n      .updateOne(\r\n        { _id: new ObjectId(id) },\r\n        { \r\n          $set: {\r\n            ...updateData,\r\n            updatedAt: new Date()\r\n          }\r\n        }\r\n      );\r\n\r\n    if (result.matchedCount === 0) {\r\n      return NextResponse.json({ \r\n        success: false,\r\n        error: 'Product not found' \r\n      }, { status: 404 });\r\n    }\r\n\r\n    return NextResponse.json({ \r\n      success: true,\r\n      message: 'Product updated successfully' \r\n    }, { status: 200 });\r\n\r\n  } catch (error) {\r\n    console.error('Error updating product:', error);\r\n    return NextResponse.json({ \r\n      success: false,\r\n      error: 'Failed to update product' \r\n    }, { status: 500 });\r\n  }\r\n} "],"names":[],"mappings":"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"}}]
}